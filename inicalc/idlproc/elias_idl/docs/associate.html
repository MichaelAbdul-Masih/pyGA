<!-- This file was generated by icmk_html_help.pro -->
<html>
 
<head>
<TITLE>Extended IDL Help</TITLE>
</head>
 
<body>
<H1>Extended IDL Help</H1>
<P>
This page was created by the IDL library routine 
<CODE>icmk_html_help</CODE>.  For more information on 
this routine, refer to the IDL Online Help Navigator 
or type: <P>
<PRE>     ? mk_html_help</PRE><P>
at the IDL command line prompt.<P>
<STRONG>Last modified: </STRONG>Mon Mar 31 16:37:16 2003.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>List of Routines</H1></A>
<UL>
<LI><A HREF="#ASSOCIATE">ASSOCIATE</A>
Associates a source list with an already opened  database
<LI><A HREF="#CAT_AREA">CAT_AREA</A>
estimates the area covered by an object catalogue
<LI><A HREF="#LIKE_ASSOCIATE">LIKE_ASSOCIATE</A>
associate a source with objects in another catalogue,
<LI><A HREF="#LIKE_N">LIKE_N</A>
this procedure computes the background flux distribution for
<LI><A HREF="#LIKE_Q">LIKE_Q</A>
this routine estimates the flux distribution, q(f), used
<LI><A HREF="#LIST_LIKE_ASSOCIATE">LIST_LIKE_ASSOCIATE</A>
runs like_associate for a list of (RA,dec) positions, rather than
<LI><A HREF="#MASK">MASK</A>
constructs a mask for a given catalogue: a list of bins, of a given
<LI><A HREF="#MULTI_CAT_AREA">MULTI_CAT_AREA</A>
runs cat_area.pro for a range of bin sizes, to see how the estimate
<LI><A HREF="#MULTI_LIKE_ASSOCIATE">MULTI_LIKE_ASSOCIATE</A>
runs like_associate for a list of sources
<LI><A HREF="#XASSOCIATE">XASSOCIATE</A>
</UL><P>
 
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="ASSOCIATE">
<H2>ASSOCIATE</H2></A>
<A HREF="#CAT_AREA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	Associate

 PURPOSE:
	Associates a source list with an already opened  database 

 CATEGORY:
	DBASE routines

 CALLING SEQUENCE:
	ASSOCIATE, RA, DEC, RADIUS, LIST, SEP [, LIST2, SEP2]
 

 INPUTS:
	RA:     Array of RAs in decimal hours
       DEC:    Array of DECs in decimal degrees
       RADIUS: Maximum association radius/degrees

 OPTIONAL INPUTS:
	
	
 KEYWORD PARAMETERS:

       list_in: list of entries to be checked
       Takes any keywords to DBCIRCLE routine
       silent: no printed output
       sort_field: field(s) on which to sort matches, largest is best match
                   by default the best match is nearest
                   if you want the smallest to be the best match 
                   (e.g. magnitude) set the rev keyword
       rev:  if set then best match is has the smallest sort_field value


 OUTPUTS:

       LIST:   Array of length RA with index of closest match (-1) = no match
       SEP:    Array Seperation of closest match /degrees
       LIST2:  Array of length RA with index of 2nd closest match 
       SEP2:   Array Seperation of next closest match/degrees

 OPTIONAL OUTPUTS:


 COMMON BLOCKS:


 SIDE EFFECTS:


 RESTRICTIONS:
	Pretty rudimentary.

 PROCEDURE:
	

 EXAMPLE:

  ra and dec are arrays containing source coordinates in decimal degrees

  open the "FIRST" database

       IDL> dbopen,'first'
       
  associating sources with nearest "first" within a 0.48' search radius

       IDL> associate,ra/15.,dec,0.008,list,sep

 MODIFICATION HISTORY:
 	Written by:	Seb Oliver July 1996
       16th April 1997 list_in keyword added
       10th July 1997 silent
       8th APril 1999 rev keyword changed to reverse, since I 
	July, 1994	Any additional mods get described here.
        
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/associate.pro)</STRONG><P>
<HR>
 
<A NAME="CAT_AREA">
<H2>CAT_AREA</H2></A>
<A HREF="#ASSOCIATE">[Previous Routine]</A>
<A HREF="#LIKE_ASSOCIATE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	cat_area

 PURPOSE:
	estimates the area covered by an object catalogue

 CATEGORY:
	DBASE routines

 CALLING SEQUENCE:
	cat_area,catalogue,binsize,area[ramin,ramax,decmin,decmax,/allsky,
	,/plot,/silent]

 INPUTS:
	catalogue: the catalogue whose area is to be estimated
	binsize: the size of bin to be used - defined in (x,y) coordinates

 OPTIONAL INPUTS:
	ramin: min RA to be considered   \
	ramax: max RA to be considered    |	these limits are only used
	decmin: min dec to be considered  |     if /allsky isn't set
	decmax: max dec to be considered /
	
 KEYWORD PARAMETERS:
	allsky: if allsky is set, then the whole sky is used and, if not
	        set, then only the area ramin<RA<ramax, decmin<dec<decmax
		is considered

	plot: if plot is set, then plot out the following things:
		(a) the original catalogue, in (x,y)
		(b) the bin centres, for the (x,y) binning
		(c) the centres of the occupied bins

	silent: if silent is set, then don't print various messages which
		indicate the progress of the procedure
		
 OUTPUTS:
	area: the value of area of the catalogue in square degrees

 OPTIONAL OUTPUTS:
	

 COMMON BLOCKS:
	

 SIDE EFFECTS:
	

 RESTRICTIONS:
	it is necessary to find a sensible value for the bin size 
	(e.g. by running multi_cat_area.pro for a number of bin sizes),
	since the estimate of the area deduced by this procedure varies
	with the size of bin used.

	be careful when setting ramin and ramax to take account of the fact
	that RA wraps around x: i.e. x increase with RA to 12 hours, where
	x=180  and then flips to x=-180 -- it may be safest to consider the
	whole RA range, setting ramin=0.0 and ramax=24.0

 PROCEDURE:
	bin the objects in the catalogue into bins of a certain size, using
	a cylindrical equal area projection, then count what fraction of bins 
	are occupied, to yield a measure of the area covered by the catalogue
	

 EXAMPLE:
	IDL>cat_area,abell,1.0,area
	
	this computes the area of the sky covered by the Abell catalogue,
	using bins that are 1 unit on a side, not plotting, but printing
	intermediate messages

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/cat_area.pro)</STRONG><P>
<HR>
 
<A NAME="LIKE_ASSOCIATE">
<H2>LIKE_ASSOCIATE</H2></A>
<A HREF="#CAT_AREA">[Previous Routine]</A>
<A HREF="#LIKE_N">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	LIKE_ASSOCIATE

 PURPOSE:
	associate a source with objects in another catalogue,
	using the likelihood ratio method of Sutherland & Saunders

 CATEGORY:
	DBASE routines

 CALLING SEQUENCE:
	like_associate,seq,ra,dec,objects,objlist,dis,like,bhistname,
	shistname,smajax,sminax,spa,radius=radius,n_err,/nerr,raname=raname,
	decname=decname,fluxname=fluxname,majaxname=majaxname,
	minaxname=minaxname,paname=paname,/single,stband=stband
	

 INPUTS:
	seq: equinox of source position
	ra: ra of source (in hours)
	dec: dec of source (in degrees)
	objects: name of catalogue of objects


 OPTIONAL INPUTS:
	none
	
 KEYWORD PARAMETERS:
	radius: preliminary search radius 
	n_err: no. of times bigger than the semi-major axis of source error 
	ellipse the radius of the (circular) preliminary search area should be
	smajax: major axis of source error ellipse
	sminax: minor axis of source error ellipse
	spa: position angle of source error ellipse
	shistname: name of histogram giving source flux distribution
	bhistname: name of histogram giving background flux distribution
	majaxname: name of major axis field in object catalogue
	minaxname: name of minor axis field in object catalogue
	paname: name of position angle field in object catalogue
	fluxname: name of flux field in object catalogue
	single: if set, then ignore smaller error ellipse
	stband: STScI photometric band in which to run test: V606 is default

 OUTPUTS:
	objlist: list of entry numbers in object catalogue of associated 
	         objects: objects are sorted by likelihood if likelihoods
		 evaluated, or by distance from the source, if not: if no 
		 objects detected in preliminary search  then list(0)=-1

 OPTIONAL OUTPUTS:
	dis: list of distances of objects listed in list from source: objects
	     listed in order of increasing dis if likelihood ratios not 
	     evaluated, or in decreasing likelihood ratio if they were
	like: list of likelihood ratios of objects found in preliminary search
	      area, listed in order of decreasing likelihood ratio
	

 COMMON BLOCKS:
	BLOCK1:	Describe any common blocks here.

 SIDE EFFECTS:
	Describe "side effects" here.

 RESTRICTIONS:
	degrees are used throughout the routine, so need to convert from 
	units used in catalogues: assume that RAs are in hours and decs
	in degrees, and use zdbcats to find the units used for the axes
	of the error ellipses

	at the moment, can only use the /single option

 PROCEDURE:
	(for background see Sutherland & Saunders, 1992, MNRAS, 259, 413)
	
      	a preliminary search is made for objects in a circle around the
	source, whose radius can be set by the user, or expressed in terms
	of the major axis of the source's error ellipse
	
	if more than one object is found in that area, then sources are
	ranked either by increasing distance from the source, if no flux
	information about the source population is given, or by decreasing
	likelihood ratio, if that information is available.


 EXAMPLE:

	IDL>like_associate,seq1,ra1,dec1,'first',output,dist,smajax=1.0/60.0

	this searches for objects in the FIRST radio catalogue around an 
	object with position (ra1,dec1), where the names for the RA and dec
	fields in the catalogue are ra and dec, respectively. Candidates
	are returned in the list output, in order of decreasing distance from
	the source (as no source population flux magnitude was given with
	which to compute the likelihood ratios) and these distances are
	returned, in order, in distances. Since the value of radius is not set,
	nor is the value of n_err, the preliminary search is performed in a 
	circle whose radius is five times the semi-major axis of the error 
	ellipse of the source, which is given as 1.0 arcmins. 

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996
        		16.xii.96 modified to take account of multiple
				  counting of bright objects in HDF_STSCI
			8.ii.97   modified to remove the last addition -
				  see note below, by commented-out text
			8.ii.97   modified to allow likelihood ratio test
				  be run for any of the four STScI
				  photometric bands
			5.viii.99 modified, to return like=-1.0,dis=9999.0,
				  obj=0 if no object in initial search radius
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/like_associate.pro)</STRONG><P>
<HR>
 
<A NAME="LIKE_N">
<H2>LIKE_N</H2></A>
<A HREF="#LIKE_ASSOCIATE">[Previous Routine]</A>
<A HREF="#LIKE_Q">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	like_n

 PURPOSE:
	this procedure computes the background flux distribution for
	objects in a given catalogue

 CATEGORY:
	DBASE routines

 CALLING SEQUENCE:
	like_n,objects,objarea,fluxname,nbins,minflux,maxflux,histname

 INPUTS:
	objects: object catalogue
	objarea: area of catalogue in square degrees
	fluxname: name for the flux field in the catalogue
	nbins: number of bins to be used in creation of histogram
	minflux: minimum flux for the histogram, in native units
	maxflux: maximum flux for the histogram, in native units
	histname: name for the flux histogram file created here
	
 OPTIONAL INPUTS:
	
	
 KEYWORD PARAMETERS:
	

 OUTPUTS:
	the output histogram is written to a file, rather than returned as
	an IDL structure

 OPTIONAL OUTPUTS:
	Describe optional outputs here.

 COMMON BLOCKS:
	BLOCK1:	Describe any common blocks here.

 SIDE EFFECTS:
	

 RESTRICTIONS:
	sensible values for minflux and maxflux must be found externally

 PROCEDURE:
	Makes a histogram of the flux distribution of objects in a catalogue,
	using the native flux units of the object catalogue 

 EXAMPLE:
	IDL> like_n,'first',1477.0,,inte_int,1000,0.0,50.0,'first.bhist'

	this computes a flux distribution for objects in the FIRST
	catalogue, using 500 bins between 0.0 and 50.0 (in native units), 
	and writing the output to the file first.bhist 	

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996

</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/like_n.pro)</STRONG><P>
<HR>
 
<A NAME="LIKE_Q">
<H2>LIKE_Q</H2></A>
<A HREF="#LIKE_N">[Previous Routine]</A>
<A HREF="#LIST_LIKE_ASSOCIATE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	like_q

 PURPOSE:
	this routine estimates the flux distribution, q(f), used
	in the likelihood ratio association procedure like_associate

 CATEGORY:
	DBASE

 CALLING SEQUENCE:
	like_q,sources,objects,objarea,omask,fluxname,shist,nrandom,$
	sourcelist,allcat=allcat

 INPUTS:
	sources: the catalogue of sources to be associated
	objects: the catalogue of objects with which to associate them
	objarea: the area covered by the object catalogue
	omask: the name for the object mask file
	fluxname: the name for the flux field in the object catalogue
	nrandom: the no. of random circles to be used per source 

 OPTIONAL INPUTS:
	sourcelist: a list of entries in the source catalogue to be used,
		    if the whole catalogue is not to be considered
	
 KEYWORD PARAMETERS:
	allcat: if allcat is set, then the whole source catalogue is used;
		if not set, then only the sources in sourcelist are used
	

 OUTPUTS:
	shist: the name for the q(f) histogram to be estimated here

 OPTIONAL OUTPUTS:
	

 COMMON BLOCKS:
	

 SIDE EFFECTS:
	

 RESTRICTIONS:
	

 PROCEDURE:
	For each source in the source catalogue, compute the flux 
	distribution of the objects falling within the circle circumscribing
	its three sigma error ellipse and subtract from that the flux
	distributions of a series of similarly-sized, randomly-placed 
	circles. The flux distribution build up by this procedure is
	an estimate for the quantity q(m) defined by Sutherland & Saunders
	in the likelihood ratio source association paper.

 EXAMPLE:
	

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996

</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/like_q.pro)</STRONG><P>
<HR>
 
<A NAME="LIST_LIKE_ASSOCIATE">
<H2>LIST_LIKE_ASSOCIATE</H2></A>
<A HREF="#LIKE_Q">[Previous Routine]</A>
<A HREF="#MASK">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	list_like_associate

 PURPOSE:
	runs like_associate for a list of (RA,dec) positions, rather than
	a database of 

 CATEGORY:
	DBASE

 CALLING SEQUENCE:
	list_like_associate,seq,ra,dec,objects,like,bhistname,shistname,$
	smajax,sminax,spa,radius=radius

 INPUTS:
	seq: equinox of source position
	ra: list of ras of sources (in hours)
	dec: list of decs of source (in degrees)
	objects: name of catalogue of objects


 OPTIONAL INPUTS:
	none
	
 KEYWORD PARAMETERS:
	radius: preliminary search radius 
	n_err: no. of times bigger than the semi-major axis of source error 
	ellipse the radius of the (circular) preliminary search area should be
	smajax: major axis of source error ellipse
	sminax: minor axis of source error ellipse
	spa: position angle of source error ellipse
	shistname: name of histogram giving source flux distribution
	bhistname: name of histogram giving background flux distribution
	majaxname: name of major axis field in object catalogue
	minaxname: name of minor axis field in object catalogue
	paname: name of position angle field in object catalogue
	fluxname: name of flux field in object catalogue
	stband: if set, gives STScI band (not V606) to be used

 OUTPUTS:
	objlist: list of entry numbers in object catalogue of associated 
	         objects: objects are sorted by likelihood if likelihoods
		 evaluated, or by distance from the source, if not: if no 
		 objects detected in preliminary search  then list(0)=-1

 OPTIONAL OUTPUTS:
	dis: list of distances of objects listed in list from source: objects
	     listed in order of increasing dis if likelihood ratios not 
	     evaluated, or in decreasing likelihood ratio if they were
	like: list of likelihood ratios of objects found in preliminary search
	      area, listed in order of decreasing likelihood ratio
	

 COMMON BLOCKS:
	BLOCK1:	Describe any common blocks here.

 SIDE EFFECTS:
	Describe "side effects" here.

 RESTRICTIONS:
	degrees are used throughout the routine, so need to convert from 
	units used in catalogues: assume that RAs are in hours and decs
	in degrees, and use zdbcats to find the units used for the axes
	of the error ellipses

	at the moment, can only use the /single option

 PROCEDURE:
	(for background see Sutherland & Saunders, 1992, MNRAS, 259, 413)
	
      	a preliminary search is made for objects in a circle around the
	source, whose radius can be set by the user, or expressed in terms
	of the major axis of the source's error ellipse
	
	if more than one object is found in that area, then sources are
	ranked either by increasing distance from the source, if no flux
	information about the source population is given, or by decreasing
	likelihood ratio, if that information is available.


 EXAMPLE:

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, 27 November 1996
			8.ii.97 stband keyword added
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/list_like_associate.pro)</STRONG><P>
<HR>
 
<A NAME="MASK">
<H2>MASK</H2></A>
<A HREF="#LIST_LIKE_ASSOCIATE">[Previous Routine]</A>
<A HREF="#MULTI_CAT_AREA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	mask

 PURPOSE:
	constructs a mask for a given catalogue: a list of bins, of a given
	size, defined in a cylindrical equal area projection, within
	which are to be found objects in a given catalogue

 CATEGORY:
	DBASE

 CALLING SEQUENCE:
	mask,catalogue,binsize,occupied[,/plot,/silent,/to_file,filename]

 INPUTS:
	catalogue: the catalogue for which the mask is to be created
	binsize: the width of the bins in the (x,y) projection -- i.e.
	there are 360/binsize bins in RA

 OPTIONAL INPUTS:
	ramin: min RA to be considered   \
	ramax: max RA to be considered    |	these limits are only used
	decmin: min dec to be considered  |     if /allsky isn't set
	decmax: max dec to be considered /
	filename: name of file to which the mask should be written
	
 KEYWORD PARAMETERS:
	allsky: if allsky is set, then the whole sky is binned and, if not
		set, then only the area ramin<RA<ramax, decmin<dec<decmax
		is considered

	plot: if plot is set, then plot both the original catalogue and the
	      resulting mask
	silent: if silent is set, then don't print out various messages
		indicating the progress of the procedure 	
	to_file: if to_file is set, then write mask to a file

 OUTPUTS:
	occupied: a list of the bin numbers which are occupied

 OPTIONAL OUTPUTS:
	

 COMMON BLOCKS:
	

 SIDE EFFECTS:
	

 RESTRICTIONS:
	a sensible value of binsize must be chosen externally

	the rows and columns of bins are numbered from zero, not one - 
	i.e. the bottom left bin, which is the first bin, is bin zero

	be careful when setting ramin and ramax to take account of the fact
	that RA wraps around x: i.e. x increase with RA to 12 hours, where
	x=180  and then flips to x=-180 -- it may be safest to consider the
	whole RA range, setting ramin=0.0 and ramax=24.0

	if using multi_cat_area.pro to choose an appropriate bin size,
	be sure to use the same ra and dec limits.

 PROCEDURE:
	a cylindrical equal area projection is made of the catalogue, which
	is then binned up in (x,y) and a list made of the bins which are
	occupied

 EXAMPLE:
	IDL>mask,'abell',1.0,list,/plot,/silent

	this produces a list of bins of size 1.0  which contain
	Abell clusters, plots the original catalogue and the mask, but
	doesn't print out various messages along the way, nor write the mask
	to a file

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/mask.pro)</STRONG><P>
<HR>
 
<A NAME="MULTI_CAT_AREA">
<H2>MULTI_CAT_AREA</H2></A>
<A HREF="#MASK">[Previous Routine]</A>
<A HREF="#MULTI_LIKE_ASSOCIATE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	multi_cat_area

 PURPOSE:
	runs cat_area.pro for a range of bin sizes, to see how the estimate
	of the area covered by a given catalogue varies with bin size, and,
	hence, determine the appropriate bin size to use for a given
	catalogue

 CATEGORY:
	DBASE routines

 CALLING SEQUENCE:
	multi_cat_area,catalogue,nsizes,minbinsize,maxbinsize[,binsize,area,$
	ramin,ramax,decmin,decmax,/allsky,/plot,/silent,/hardcopy]

 INPUTS:
	catalogue: the catalogue whose area is to be estimated
	nsizes: the number of different binsizes to try
	minbinsize: the minimum size for bins 
	maxbinsize; the maximum size for bins 

 OPTIONAL INPUTS:
	ramin: if allsky isn't set, then this is minimum RA considered
	ramax: if allsky isn't set, then this is maximum RA considered
	decmin: if allsky isn't set, then this is minimum dec considered
	decmax: if allsky isn't set, then this is minimum dec considered
	
	
 KEYWORD PARAMETERS:
	plot: if plot is set, then plots are produced by cat_area.pro for
	      each bin size
	silent: if silent is set, then various messages aren't printed during
		the running of cat_area.pro

	hardcopy: if hardcopy is set, then a postscript version of the plot
		  of catalogue area against bin size is produced

	allsky: if set, then bin up the whole sky, ignoring ramin,ramax,
	        decmin and decmax

 OUTPUTS:
	no outputs as such -- just a plot of catalogue area against binsize

 OPTIONAL OUTPUTS:
	binsize: a list of nsizes values of bin size for which the area of
	         the survey was estimated
	area: a list of nsizes estimates for the area of the survey, estimated
	      using the binsizes given in binsizes

 COMMON BLOCKS:
	

 SIDE EFFECTS:
	

 RESTRICTIONS:
	

 PROCEDURE:
	just runs cat_area.pro for a variety of bin sizes, ensuring that
	square bins in (x,y) space are used

 EXAMPLE:
	IDL> multi_cat_area,'abell',30,1.0,10.0,/plot

	run cat_area for 30 different bin sizes, where binsize varies
	between 1.0 and 10.0, producing plots for each bin size,
	but not returning the values of the binsizes or the areas

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/multi_cat_area.pro)</STRONG><P>
<HR>
 
<A NAME="MULTI_LIKE_ASSOCIATE">
<H2>MULTI_LIKE_ASSOCIATE</H2></A>
<A HREF="#MULTI_CAT_AREA">[Previous Routine]</A>
<A HREF="#XASSOCIATE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	multi_like_associate

 PURPOSE:
	runs like_associate for a list of sources

 CATEGORY:
	DBASE routines

 CALLING SEQUENCE:
	multi_like_associate,objects,sources,objects1,objects2,shist,bhist'+$
	[,likes1,likes2,distances1,distances2,sourcelist,/larger,/allcat,
	/single,/to_file]

 INPUTS:
	objects: catalogue of objects
	sources: catalogue of sources in database format
	shist: histogram giving source flux distribution
	bhist: histogram giving background flux distribution
	radius: value of preliminary search radius (arcmins)
	fluxname: name for flux field in object catalogue
	
 OPTIONAL INPUTS:
	sourcelist: list of entry numbers (in sources) of sources for
	which we want to find associations - to be given if associations
	for full catalogue are not required

 KEYWORD PARAMETERS:
	larger: if set, then run like_associate for increasingly large
	        preliminary search radii, if don't find any associations
	        for first value
	allcat: if set, then run like_associate for all sources in the source
	        catalogue
	single: if set, then only need to consider larger of two error ellipses
	to_file: if set, then the output is written to a file
	stband: if set, gives STScI band other than V to be used
 OUTPUTS:
	objects1: list of first-ranked object for each source
	objects2: list of second-ranked object for each source

 OPTIONAL OUTPUTS:
	likes1: likelihood ratios for first-ranked object for each source
	likes2: likelihood ratios for second-ranked object for each source
	distances1: distances from sources to first-ranked objects
	distances2: distances from sources to second-ranked objects

 COMMON BLOCKS:
	

 SIDE EFFECTS:
	

 RESTRICTIONS:
	

 PROCEDURE:
	runs like_associate for a list of entries in a given catalogue or
	for the whole catalogue

 EXAMPLE:
	IDL> multi_like_associate,iras_psc,abell,list,nearest,second,/larger

	associate Abell clusters with IRAS PSC sources in list, solely 
	on the basis of distance, recording the entry nos. in the Abell 
	catalogue of the first and second nearest cluster to each source, 
	no matter how far away it is

 MODIFICATION HISTORY:
 	Written by:	Bob Mann, July 1996.
			8.ii.97 stband keyword introduced
     "radius not being passed if sourcelist set" bug fixed Seb Oliver 22/7/97
     also quick fix for sourcelist=-1  Seb Oliver 22/7/97

</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/multi_like_associate.pro)</STRONG><P>
<HR>
 
<A NAME="XASSOCIATE">
<H2>XASSOCIATE</H2></A>
<A HREF="#MULTI_LIKE_ASSOCIATE">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	xassociate

 PURPOSE:
	
       cross associates two databases 

 CATEGORY:
	analysis

 CALLING SEQUENCE:
	xassociate,db1,db2,radius,list1to2,list2to1,both1,both2,only1,only2

 INPUTS:
	db1: name of database 1 
       db2: name of database 2
    radius: search radius in degrees
   list1to2: entries numbers of unique matches from 1--->2 
   list2to1: entries numbers of unique matches from 2--->1 
   both1: the entrynumbers in database one of the links
   both2: ditto 
   only1: the entry number in database one of those unique to one
   only2: ditto

 OPTIONAL INPUTS:
	
	
 KEYWORD PARAMETERS:
	

 OUTPUTS:
	

 OPTIONAL OUTPUTS:
	

 COMMON BLOCKS:
	

 SIDE EFFECTS:
	

 RESTRICTIONS:
	
     Cannot yet handle list of entries within databases
     Does not know what to do with databases with containg multple sources
          with similar positions

 PROCEDURE:
	

 EXAMPLE:
	

 MODIFICATION HISTORY:
 	Written by:	Seb Oliver 13th Dec 1996
       BOTH2 vector changed so that it is ordered so that matched
       entries have the same index in BOTH1 and BOTH2 7th September 1999
	July, 1996	
</PRE><P>
<STRONG>(See /contrib-linux/rsi/idl_5.4/icstm_idl/associate/xassociate.pro)</STRONG><P>
<HR>
 
</body>
</html>
